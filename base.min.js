var msos={default_locale:(document.getElementsByTagName("html")[0].getAttribute("lang")||"en"),default_translate:"fr",default_country:{en:"US",fr:"FR",de:"DE"},default_keyboard_locales:["en","fr","de","es"],base_site_url:"//"+document.domain,base_script_url:"",base_config_url:"",base_images_url:"",body:null,head:null,html:null,docl:null,ajax_loading_kbps:{},deferred_css:[],deferred_scripts:[],dom:{},form_inputs:null,form_validate:null,html_inputs:["text","file","password","textarea","radio","checkbox","select"],html5_attributes:["autocomplete","autofocus","list","placeholder","max","min","maxlength","multiple","pattern","required","step"],html5_inputs:["search","tel","url","email","datetime","date","month","week","time","datetime-local","number","range","color"],i18n_order:[],i18n_queue:0,log_methods:["error","warn","info","debug","time","timeEnd","log"],onload_func_pre:[],onload_func_start:[],onload_functions:[],onload_func_done:[],onload_func_post:[],ondisplay_size_change:[],onorientationchange_functions:[],onresize_functions:[],record_times:{},registered_files:{js:{},css:{},ico:{},ajax:{}},registered_folders:{msos:"",jquery:"",apps:""},registered_modules:{msos:false},registered_templates:{},registered_tools:{},require_attempts:0,require_deferred:0,require_queue:0};msos.config={console:false,clear_cookies:false,clear_storage:false,debug:false,debug_css:false,debug_output:false,debug_script:false,mobile:false,verbose:false,visualevent:false,run_ads:false,run_size:false,run_analytics:false,run_onerror:false,run_overflowscroll:false,run_social:false,run_translate:false,run_amazon_prev:false,browser:{advanced:false,current:false,direction:"",editable:false,mobile:false,touch:false},cache:true,color:{bk:"black",wh:"white",dg:"darkgrey",lg:"lightgrey",sl:"salmon",lb:"lightblue",rd:"red",be:"beige"},connection:{type:0,bandwidth:10,metered:false},cookie:{site_pref:{name:"msos_site_pref",value:"",set:false,params:{expires:30}},site_i18n:{name:"msos_site_i18n",value:"",set:false,params:{expires:30}},site_cart:{name:"msos_site_cart",value:"",set:false,params:{expires:1}},site_cltl:{name:"msos_site_cltl",value:"",set:false,params:{expires:15}},site_bdwd:{name:"msos_site_bdwd",value:"",set:false,params:{expires:1}},site_tabs:{name:"msos_site_tab_",params:{expires:1}},site_sdmn:{name:"msos_site_sdm_",params:{expires:1}},site_popu:{name:"msos_site_pop_",params:{expires:1}}},debugging:["console","debug","debug_script","debug_css","debug_output","mobile","verbose","visualevent","run_ads","run_size","run_analytics","run_onerror","run_overflowscroll","run_social","run_translate","run_amazon_prev","use_date","use_color","use_number","use_range","clear_cookies","clear_storage"],doctype:window.document.getElementsByTagName("html")[0].getAttribute("xmlns")?"xhtml5":"html5",file:{"file":(typeof window.File==="object"?true:false),"reader":(typeof window.FileReader==="function"?true:false),"list":(typeof window.FileList==="object"?true:false),"blob":(typeof window.Blob==="object"?true:false)},force_shim:{inputs:{date:true,color:true,number:true,range:true,time:false,month:false,week:false},media:{video:false,audio:false}},google:{no_translate:{},hide_tooltip:{}},hellojs_redirect:"/mobilesiteos/hello/redirect.html",i18n:{select_trans_msos:{},select_kbrds_msos:{}},intl:{select_culture:{},select_calendar:{}},locale:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),culture:(navigator.language||navigator.userLanguage||msos.default_locale).replace("-","_").toLowerCase(),calendar:"standard",json:(typeof JSON==="object"&&typeof JSON.stringify==="function"&&typeof JSON.parse==="function"?true:false),jquery_ui_theme:"mobilesiteos",jquery_ui_avail:{base:"Base (generic)",lightness:"UI-Lightness",mobilesiteos:"MobileSiteOS"},keyboard:"",keyboard_locales:[].concat(msos.default_keyboard_locales),gesture:(function(){"use strict";var el=document.createElement("div");el.setAttribute("ongesturestart","return;");return (typeof el.ongesturestart==="function"?true:false);}()),onerror_uri:"http://"+window.location.hostname+"/onerror.html",orientation:(typeof window.orientation==="number"?true:false),orientation_change:("onorientationchange" in window?true:false),page_uri:window.location.href,pixel_ratio:window.devicePixelRatio||1,popups_blocked:false,query:{},script_onerror:(function(){"use strict";var _1=document.createElement("script");_1.type="text/javascript";_1.setAttribute("onerror","return;");if(typeof _1.onerror==="function"){return true;}return ("onerror" in _1?true:false);}()),script_preload:{available:false,async:false,defer:false,explicit:false,ordered:false,xhr_cache:false},scrolltop:(window.pageXOffset!==undefined||document.documentElement.scrollTop!==undefined?true:false),size:"phone",size_array:[],size_wide:{"desktop":1080,"large":960,"medium":760,"small":640,"tablet":480,"phone":320},social:{},storage:{sessionstorage:{site_bdwd:{name:"msos_site_bdwd",value:"",set:false}},localstorage:{site_form:{name:"msos_site_form",value:"",set:false}}},touch:{ontouchstart:("ontouchstart" in window?true:false),ontouchend:("ontouchend" in document?true:false),object:(typeof window.Touch==="object"?true:false),event:(window.TouchEvent!==undefined?true:false),create:("createTouch" in document?true:false),doc_touch:("DocumentTouch" in window&&document instanceof DocumentTouch?true:false)},view_orientation:{layout:"",direction:"",method:"",numeric:0},view_port:{height:0,width:0,delta_width:0,delta_heigth:0}};(function(_2){var _3={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},_4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],_5={"anchor":"fragment"},_6={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},_7=/^[0-9]+$/;function _8(_9,_a){var _b=decodeURI(_9),_c=_6[_a||false?"strict":"loose"].exec(_b),_d={attr:{},param:{},seg:{}},i=14;while(i--){_d.attr[_4[i]]=_c[i]||"";}_d.param["query"]=_e(_d.attr["query"]);_d.param["fragment"]=_e(_d.attr["fragment"]);_d.seg["path"]=_d.attr.path.replace(/^\/+|\/+$/g,"").split("/");_d.seg["fragment"]=_d.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");_d.attr["base"]=_d.attr.host?(_d.attr.protocol?_d.attr.protocol+"://"+_d.attr.host:_d.attr.host)+(_d.attr.port?":"+_d.attr.port:""):"";return _d;};function _f(elm){var tn=elm.tagName;if(typeof tn!=="undefined"){return _3[tn.toLowerCase()];}return tn;};function _10(_11,key){if(_11[key].length===0){return _11[key]={};}var t={};for(var i in _11[key]){t[i]=_11[key][i];}_11[key]=t;return t;};function _12(_13,_14,key,val){var _15=_13.shift();if(!_15){if(_16(_14[key])){_14[key].push(val);}else{if("object"==typeof _14[key]){_14[key]=val;}else{if("undefined"==typeof _14[key]){_14[key]=val;}else{_14[key]=[_14[key],val];}}}}else{var obj=_14[key]=_14[key]||[];if("]"==_15){if(_16(obj)){if(""!==val){obj.push(val);}}else{if("object"==typeof obj){obj[_17(obj).length]=val;}else{obj=_14[key]=[_14[key],val];}}}else{if(~_15.indexOf("]")){_15=_15.substr(0,_15.length-1);if(!_7.test(_15)&&_16(obj)){obj=_10(_14,key);}_12(_13,obj,_15,val);}else{if(!_7.test(_15)&&_16(obj)){obj=_10(_14,key);}_12(_13,obj,_15,val);}}}};function _18(_19,key,val){if(~key.indexOf("]")){var _1a=key.split("[");_12(_1a,_19,"base",val);}else{if(!_7.test(key)&&_16(_19.base)){var t={};for(var k in _19.base){t[k]=_19.base[k];}_19.base=t;}if(key!==""){set(_19.base,key,val);}}return _19;};function _e(str){return _1b(String(str).split(/&|;/),function(ret,_1c){try{_1c=decodeURIComponent(_1c.replace(/\+/g," "));}catch(e){}var eql=_1c.indexOf("="),_1d=_1e(_1c),_4=_1c.substr(0,_1d||eql),val=_1c.substr(_1d||eql,_1c.length);val=val.substr(val.indexOf("=")+1,val.length);if(_4===""){_4=_1c;val="";}return _18(ret,_4,val);},{base:{}}).base;};function set(obj,key,val){var v=obj[key];if(typeof v==="undefined"){obj[key]=val;}else{if(_16(v)){v.push(val);}else{obj[key]=[v,val];}}};function _1e(str){var len=str.length,_1f,c;for(var i=0;i<len;++i){c=str[i];if("]"==c){_1f=false;}if("["==c){_1f=true;}if("="==c&&!_1f){return i;}}};function _1b(obj,_20){var i=0,l=obj.length>>0,_21=arguments[2];while(i<l){if(i in obj){_21=_20.call(undefined,_21,obj[i],i,obj);}++i;}return _21;};function _16(_22){return Object.prototype.toString.call(_22)==="[object Array]";};function _17(obj){var _23=[];for(var _24 in obj){if(obj.hasOwnProperty(_24)){_23.push(_24);}}return _23;};function _25(url,_26){if(arguments.length===1&&url===true){_26=true;url=undefined;}_26=_26||false;url=url||window.location.toString();return {data:_8(url,_26),attr:function(_27){_27=_5[_27]||_27;return typeof _27!=="undefined"?this.data.attr[_27]:this.data.attr;},param:function(_28){return typeof _28!=="undefined"?this.data.param.query[_28]:this.data.param.query;},fparam:function(_29){return typeof _29!=="undefined"?this.data.param.fragment[_29]:this.data.param.fragment;},segment:function(seg){if(typeof seg==="undefined"){return this.data.seg.path;}else{seg=seg<0?this.data.seg.path.length+seg:seg-1;return this.data.seg.path[seg];}},fsegment:function(seg){if(typeof seg==="undefined"){return this.data.seg.fragment;}else{seg=seg<0?this.data.seg.fragment.length+seg:seg-1;return this.data.seg.fragment[seg];}}};};_2.purl=_25;}(msos));msos.parse_query=function(){"use strict";var url=msos.purl(),key="",cfg="",_2a=url.param();for(key in _2a){if(_2a[key]==="true"){_2a[key]=true;}if(_2a[key]==="false"){_2a[key]=false;}}for(cfg in msos.config){if(_2a[cfg]||_2a[cfg]===false){msos.config[cfg]=_2a[cfg];}}if(msos.config.verbose){msos.config.debug=true;}return _2a;};msos.config.query=msos.parse_query();Object.keys(msos.config.size_wide).map(function(k){return [k,msos.config.size_wide[k]];}).sort(function(a,b){if(a[1]<b[1]){return -1;}if(a[1]>b[1]){return 1;}return 0;}).forEach(function(d){msos.config.size_array.push(d[0]);});msos.console=(function(){"use strict";var _2b={queue:[]},_2c=window.console,idx=msos.log_methods.length-1,aps=Array.prototype.slice;function _2d(arg){if(arg instanceof Error){if(arg.stack){arg=(arg.message&&arg.stack.indexOf(arg.message)===-1)?"Error: "+arg.message+"\n"+arg.stack:arg.stack;}else{if(arg.sourceURL){arg=arg.message+"\n"+arg.sourceURL+":"+arg.line;}}}return arg;};while(idx>=0){(function(_2e){_2b[_2e]=function(){var cfg=msos.config,_2f=cfg.query.debug_filter||"",i=0;if(_2e==="debug"&&!cfg.debug){return;}var _30=aps.apply(arguments),_31=_30[0]?_30[0].replace(/\W/g,"_"):"missing_args",_32=_2c[_2e]||_2c.log,_33=[],_34=[];if(_2e==="debug"&&cfg.verbose&&_2f&&/^[0-9a-zA-Z.]+$/.test(_2f)){_2f=new RegExp("^"+_2f.replace(".","."));if(!_31.match(_2f)){return;}}if(_2e==="time"||_2e==="timeEnd"){msos.record_times[_31+"_"+_2e]=(new Date()).getTime();}if(cfg.console){_33=[_2e].concat(_30);if(_2e==="time"||_2e==="timeEnd"){_33.push(msos.record_times[_31+"_"+_2e]);}_2b.queue.push(_33);}if(_2c){if(_32.apply){for(i=0;i<_30.length;i+=1){_34.push(_2d(_30[i]));}_32.apply(_2c,_34);}else{var _35=_30.join(" ");_32(_35);}}};}(msos.log_methods[idx]));idx-=1;}return _2b;}());msos.console.time("base");msos.console.info("msos/base -> start.");msos.var_is_null=function(_36){"use strict";if(_36===undefined){return true;}if(_36===null){return true;}return false;};msos.var_is_empty=function(_37){"use strict";if(msos.var_is_null(_37)){return true;}if(_37===""){return true;}return false;};msos.do_nothing=function(evt){"use strict";evt.preventDefault();evt.stopPropagation();};msos.do_abs_nothing=function(evt){"use strict";evt.preventDefault();evt.stopImmediatePropagation();};msos.new_time=function(){"use strict";return (new Date()).getTime();};msos.set_version=function(mjr,mnr,pth){"use strict";var _38=this;_38={major:mjr,minor:mnr,patch:pth,toString:function(){return "v"+_38.major+"."+_38.minor+"."+_38.patch;}};return _38;};msos.gen_namespace=function(b){"use strict";var a=window,c=0;b=b.split(".");for(c=0;c<b.length;c+=1){a=a[b[c]]||(a[b[c]]={});}return a;};msos.generate_url_name=function(url){"use strict";var _39,_3a=[],pl=0,j=0,idx=0,_3b="",_3c="";_39=msos.purl(url).attr("path");_3a=_39.split("/");pl=_3a.length;_3b=_3a[pl-1];idx=_3b.indexOf("?");_3c=idx!==-1?_3b.substring(0,idx):_3b;for(j=2;j<(pl-j);j+=1){_3c=_3a[pl-j]+":"+_3c;}return _3c.replace(/[^0-9a-zA-Z]/g,"_");};msos.run_function_array=function(_3d){"use strict";var _3e="msos.run_func_array -> ",m=0;_3d=_3d||"missing";msos.console.debug(_3e+"start: "+_3d);if(!msos[_3d]||!(_.isArray(msos[_3d]))){msos.console.error(_3e+"for: "+_3d+", failed.");return;}for(m=0;m<msos[_3d].length;m+=1){msos.console.debug(_3e+"index: "+m);try{msos[_3d][m]();}catch(e){msos.console.error(_3e+"for: "+_3d,e);}}msos[_3d]=[];msos.console.debug(_3e+"done: "+_3d);};msos.get_js_base=function(){"use strict";var _3f="msos.get_js_base -> ",_40,_41,_42;msos.console.debug(_3f+"start.");_40=document.getElementsByTagName("script");_41=_40[_40.length-1];_42=_41.src;_42=_42.slice(0,_42.lastIndexOf("/")+1)||"";if(!_42){throw new Error(_3f+"failed!");}msos.console.debug(_3f+"done, uri: "+_42);return _42;};msos.base_script_url=msos.get_js_base();msos.resource_url=function(_43,_44){"use strict";return msos.base_script_url.replace(/\/msos\//,"/"+_43+"/")+_44;};msos.cookie=function(_45,_46,_47){"use strict";var _48="msos.cookie -> ",_49="",_4a=null,_4b="",_4c="",_4d="",_4e="",_4f=[],_50="",_51="",i=0;if(msos.config.verbose){msos.console.debug(_48+"start, "+(_46?"set":"get")+" for "+_45);}if(_46!==undefined){_47=_47||{expires:90,path:"/"};if(_46===null){_46="";_47.expires=-1;msos.console.debug(_48+"delete: "+_45);}if(_47.expires&&(typeof _47.expires==="number"||_47.expires.toUTCString)){if(typeof _47.expires==="number"){_4a=new Date();_4a.setTime(_4a.getTime()+(_47.expires*86400000));}else{_4a=_47.expires;}_49="; expires="+_4a.toUTCString();}_4b=_47.path?"; path="+(_47.path):"; path=/";_4c=_47.domain?"; domain="+(_47.domain):"";_4d=_47.secure?"; secure":"";_4e=[_45,"=",encodeURIComponent(_46),_49,_4b,_4c,_4d].join("");document.cookie=_4e;if(msos.config.verbose){msos.console.debug(_48+"done, set: "+_4e);}return true;}_51="";if(document.cookie&&document.cookie!==""){_4f=document.cookie.split(";");for(i=0;i<_4f.length;i+=1){_50=_4f[i];_50=_50.replace(/^\s+|\s+$/g,"");if(_50.substring(0,_45.length+1)===(_45+"=")){_51=decodeURIComponent(_50.substring(_45.length+1));break;}}}if(msos.config.verbose){msos.console.debug(_48+"done, get: "+(_51||"na"));}return _51;};msos.clear_cookies=function(){"use strict";var _52="msos.clear_cookies -> ",idx=0,_53=["site_pref","site_i18n","site_cart","site_cltl","site_bdwd"],_54;msos.console.debug(_52+"start.");for(idx=0;idx<_53.length;idx+=1){_54=msos.config.cookie[_53[idx]]||0;if(_54){msos.cookie(_54.name,null);}}msos.console.debug(_52+"done!");};if(msos.config.clear_cookies){msos.clear_cookies();}msos.set_locale=function(){"use strict";var _55="msos.set_locale -> ",cfg=msos.config,_56=cfg.cookie.site_i18n,_57=[];if(_56.value){_57=_56.value.split(":");}msos.console.debug(_55+"start, cookie: "+(_56.value||"na"));cfg.locale=cfg.query.locale||_57[0]||cfg.locale||msos.default_locale;cfg.culture=cfg.query.culture||_57[1]||cfg.culture||cfg.locale;cfg.calendar=cfg.query.calendar||_57[2]||cfg.calendar;msos.console.debug(_55+"done, locale: "+cfg.locale+", culture: "+cfg.culture+", calendar: "+cfg.calendar);};msos.set_locale_cookie=function(){"use strict";var _58="msos.set_locale_cookie -> ",_59=msos.config.cookie.site_i18n;msos.console.debug(_58+"start.");_59.value=msos.config.locale+":"+msos.config.culture+":"+msos.config.calendar;msos.cookie(_59.name,_59.value,_59.params);msos.console.debug(_58+"done, value: "+_59.value);_59.set=true;};msos.get_viewport=function(_5a){"use strict";var d=_5a.document,dd=d.documentElement,b=d.body||d.getElementsByTagName("body")[0],_5b={width:0,height:0},_5c="msos.get_viewport -> ";if(_5a.innerWidth!==undefined){_5b.width=_5a.innerWidth;_5b.height=_5a.innerHeight;_5c+="innerWidth/Height spec";}else{if(dd&&dd.clientWidth){_5b.width=dd.clientWidth;_5b.height=dd.clientHeight;_5c+="documentElement.clientWidth/Height spec";}else{if(b&&b.clientWidth){_5b.width=b.clientWidth;_5b.height=b.clientHeight;_5c+="body.clientWidth/Height spec";}else{if(window!==_5a){_5c+="failed for (popup window), this";}else{_5c+="failed for this";}}}}if(window===_5a){msos.config.view_port=_5b;}msos.console.debug(_5c+" browser.");return _5b;};msos.browser_orientation=function(){"use strict";var _5d=msos.config.view_orientation,_5e=msos.get_viewport(window),_5f="msos.browser_orientation -> ";if(window.orientation!==undefined){switch(window.orientation){case 0:_5d.layout="portrait";_5d.direction="normal";_5d.numeric=0;break;case -90:_5d.layout="landscape";_5d.direction="right";_5d.numeric=-90;break;case 90:_5d.layout="landscape";_5d.direction="left";_5d.numeric=90;break;case 180:_5d.layout="portrait";_5d.direction="flipped";_5d.numeric=180;break;default:_5d.layout=_5e.width/_5e.height<1.1?"portrait":"landscape";_5d.direction="normal";_5d.numeric=_5e.width/_5e.height<1.1?0:90;}_5d.method="window.orientation("+window.orientation+")";}else{_5d.layout=_5e.width/_5e.height<1.1?"portrait":"landscape";_5d.direction="normal";_5d.method="document.documentElement";_5d.numeric=_5e.width/_5e.height<1.1?0:90;}msos.console.debug(_5f+"layout: "+_5d.layout+", dir: "+_5d.direction+" for "+_5d.method);return _5d;};msos.browser_current=function(){"use strict";var _60="msos.browser_current -> ",_61=[];if(!window.focus){_61.push("window.focus");}if(!document.images){_61.push("document.images");}if(!document.styleSheets){_61.push("document.styleSheets");}if(!document.open){_61.push("document.open");}if(!document.close){_61.push("document.close");}if(!window.document.write){_61.push("document.write");}if(!document.addEventListener){_61.push("document.addEventListener");}if(_61.length===0){msos.console.debug(_60+"browser is current");msos.config.browser.current=true;return;}msos.console.warn(_60+"browser does not support: "+_61.join(", ")+" -> for doctype "+msos.config.doctype);if(msos.config.doctype==="xhtml5"&&_61[2]==="document.write"){msos.config.browser.current=true;return;}msos.console.error(_60+"browser is not current");msos.config.browser.current=false;};msos.browser_touch=function(){"use strict";var _62="msos.browser_touch -> ",_63="",_64=document.createElement("div"),_65=0;for(_63 in msos.config.touch){if(msos.config.touch[_63]===true){_65+=1;}else{_65-=1;}}try{document.createEvent("TouchEvent");_65+=1;}catch(e){_65-=1;}if("ontouchstart" in _64){_65+=1;}else{_64.setAttribute("ontouchstart","return;");_65+=(typeof _64.ontouchstart==="function")?1:-1;}_64=null;if(_65>0){msos.config.browser.touch=true;}msos.console.debug(_62+"touch is "+(msos.config.browser.touch?"":"not")+" available, ref. ("+String(_65)+")");};msos.browser_mobile=function(){"use strict";var _66="msos.browser_mobile -> ",_67="",_68=0,_69=[];if(!msos.var_is_empty(screen.height)&&!msos.var_is_empty(screen.width)){_68=(screen.height>screen.width)?screen.height:screen.width;}if(_68&&_68<481){_69.push("screen");}if(msos.config.browser.touch){_69.push("touch");}if(msos.config.orientation){_69.push("orientation");}if(msos.config.orientation_change){_69.push("orientation_change");}if(msos.config.pixel_ratio>1){_69.push("pixel_ratio");}if(_69.length>2){msos.config.browser.mobile=true;msos.config.mobile=true;}msos.console.debug(_66+"browser is "+(msos.config.browser.mobile?"mobile":"not mobile")+(_69.length>0?", flag(s): "+_69.join(", "):""));if(msos.config.query.mobile===true||msos.config.query.mobile===false){if(msos.config.browser.mobile!==msos.config.query.mobile){msos.console.debug(_66+"force mobile setting: "+msos.config.query.mobile);}msos.config.mobile=msos.config.query.mobile?true:false;}};msos.browser_advanced=function(){"use strict";var _6a="msos.browser_advanced -> ",_6b=document.createElement("body"),_6c=_6b.style,_6d=[],_6e=["Webkit","Moz","O","ms","Khtml"],_6f=null,_70=null;_6f=function(_71){var _72=_71.charAt(0).toUpperCase()+_71.substr(1),_73=(_71+" "+_6e.join(_72+" ")+_72).split(" "),v="";for(v in _73){if(_6c[v]!==undefined){return true;}}_6d.push(_71);return false;};msos.config.css_pseudoelement=(!!_6f("content"));msos.config.boxshadow=(!!_6f("boxShadow")&&!window.blackberry);msos.config.transform=(!!_6f("Transform"));_70=function(){var i=0;for(i=0;i<_6e.length;i+=1){if(window[_6e[i]+"WebSocket"]){return true;}}return ("WebSocket" in window);};msos.config.websocket=_70();if(!msos.config.scrolltop){_6d.push("scrollTop");}_6b=null;if(_6d[0]){msos.console.debug(_6a+"browser is not advanced, missing: "+_6d.join(" "));msos.config.browser.advanced=false;return false;}msos.console.debug(_6a+"browser is advanced.");msos.config.browser.advanced=true;return true;};msos.browser_editable=function(){"use strict";if(!(document.designMode||msos.body.contentEditable)){msos.config.browser.editable=false;return;}if(document.execCommand===undefined){msos.config.browser.editable=false;return;}msos.console.debug("msos.browser_editable -> browser supports content editing");msos.config.browser.editable=true;};msos.browser_direction=function(){"use strict";var _74="",_75=null;_75=function(){var _76=document.createElement("p"),_77=document.createElement("span"),_78="";_76.style.margin="0 0 0 0";_76.style.padding="0 0 0 0";_76.style.textAlign="";_77.innerHTML="X";_76.appendChild(_77);document.body.appendChild(_76);_78=_77.offsetLeft<(_76.offsetWidth-(_77.offsetLeft+_77.offsetWidth))?"ltr":"rtl";msos.body.removeChild(_76);if(msos.config.verbose){msos.console.debug("msos.browser_direction -> by build_test: "+_78);}return _78;};_74=(msos.body.dir||document.documentElement.dir||_75()||"ltr").toLowerCase();msos.config.browser.direction=_74;};msos.browser_preloading=function(){"use strict";var _79=msos.config.script_preload,_7a=document.createElement("script"),dua=navigator.userAgent;_79.async="async" in _7a?true:false;_79.defer="defer" in _7a?true:false;_79.explicit=typeof _7a.preload==="boolean"?true:false;_79.available=_79.explicit?true:(_7a.readyState&&_7a.readyState==="uninitialized")?true:false;_79.ordered=(!_79.available&&_7a.async===true)?true:false;_79.xhr_cache=(_79.available||(!_79.ordered&&!(dua.indexOf("Opera")!==-1)&&!(dua.indexOf("Gecko")!==-1)))?true:false;_7a=null;};msos.get_head=function(win){"use strict";var d=win.document,de=d.documentElement,hd=d.head||d.getElementsByTagName("head")[0];if(!hd){hd=d.createElement("head");de.insertBefore(hd,de.firstChild);}return hd;};msos.create_node=function(tag,_7b,win){"use strict";if(!win){win=window;}var _7c=win.document.createElement(tag),at="";if(msos.config.verbose){msos.console.debug("msos.create_node -> called for: "+tag,_7b);}for(at in _7b){_7c.setAttribute(at,_7b[at]);}return _7c;};msos.loader=function(win){"use strict";var _7d="msos.loader",_7e=this,_7f=msos.purl().attr("file"),i=0;if(!win){win=window;}if(!win.msos){win.msos={};}if(!win.name){win.name=_7f.replace(/[^0-9a-zA-Z]/g,"_")||"base_win";}if(!win.msos.registered_files){win.msos.registered_files={js:{},css:{},ico:{},ajax:{}};}msos.console.debug(_7d+" -> start for window: "+win.name);this.doc_head=msos.get_head(win);this.toggle_css=[];this.delay_css=0;this.deferred_array=[];this.deferred_done=true;this.add_resource_onload=[];this.load=function(_80,url,_81,_82){var _83=url.split("?")[0],ext=_83.substr(_83.lastIndexOf(".")+1),_84=/^js|css|ico$/,lo=" - load -> ",_85=null;if(msos.config.verbose){msos.console.debug(_7d+lo+"start.");}_82=_82||{};if(!_81){_81=ext||"na";}if(!_84.test(_81)){msos.console.error(_7d+lo+"missing or invalid: "+_81);return;}if(_7e.check(_80,url,_81)){msos.console.debug(_7d+lo+"already loaded: "+_80+", url: "+url);}else{_85=function(){_7e.resource(_80,url,_81,_82);};if(_82.defer&&_82.defer==="defer"){if(msos.config.script_preload.ordered){_85();msos.console.debug(_7d+lo+"browser deferred file: "+url);}else{if(_7e.deferred_done===true){_7e.deferred_done=false;_85();}else{_7e.deferred_array.push(_85);}msos.console.debug(_7d+lo+"deferred file: "+url+", queue: "+_7e.deferred_array.length);}}else{if(_81==="css"){setTimeout(_85,_7e.delay_css);_7e.delay_css+=5;msos.console.debug(_7d+lo+"css file: "+url+", delay: "+_7e.delay_css);}else{_85();msos.console.debug(_7d+lo+"file: "+url);}}}if(msos.config.verbose){msos.console.debug(_7d+lo+"done!");}};this.check=function(_86,_87,_88){var _89=_7e.toggle_css,_8a=false,ld=" - check -> ";msos.console.debug(_7d+ld+"start.");if(win.msos.registered_files[_88]&&win.msos.registered_files[_88][_86]){_8a=true;}if(_88==="css"&&_89.length>0){for(i=0;i<_89.length;i+=1){if(win.msos.registered_files.css[_89[i]]){win.msos.registered_files.css[_89[i]].disabled=true;}}if(win.msos.registered_files.css[_86]){win.msos.registered_files.css[_86].disabled=false;msos.console.debug(_7d+ld+"set active: "+_87);}for(i=0;i<_7e.add_resource_onload.length;i+=1){_7e.add_resource_onload[i]();}}msos.console.debug(_7d+ld+"done, already loaded (t/f): "+(_8a?"true":"false")+" for "+_86);return _8a;};this.init_create_node=function(_8b,url,_8c,_8d){var _8e=null,icn=" - init_create_node -> ",_8f={},ats="";if(msos.config.verbose){msos.console.debug(_7d+icn+"start.");}if(msos.config.cache===false){url+=((/\?.*$/.test(url)?"&_":"?_")+~~(Math.random()*1000000000)+"=");}if(_8c==="js"){_8f={id:_8b,type:"text/javascript",src:url,charset:"utf-8"};}else{if(_8c==="css"){_8f={id:_8b,type:"text/css",rel:"stylesheet",href:url,media:"all"};}else{if(_8c==="ico"){_8f={id:_8b,type:"image/x-icon",rel:"shortcut icon",href:url};}}}if(_8d!==undefined&&typeof _8d==="object"){for(ats in _8d){_8f[ats]=_8d[ats];}}if(_8c==="js"){_8e=msos.create_node("script",_8f,win);if(_8d.defer==="defer"){_8e.async=false;}else{_8e.async=true;}}else{if(_8c==="css"){_8e=msos.create_node("link",_8f,win);}else{if(_8c==="ico"){_8e=msos.create_node("link",_8f,win);}}}_8e.msos_load_state="loading";if(_8c==="js"&&msos.config.script_onerror){_8e.onerror=function(e){msos.console.error(_7d+" -> failed for: "+_8b,e);};}if(msos.config.verbose){msos.console.debug(_7d+icn+"done!");}return _8e;};this.resource=function(_90,_91,_92,_93){var _94=_7e.init_create_node(_90,_91,_92,_93)||null,ls=" - resource -> ",_95=function(){var i=0,_96;if(this.msos_load_state!=="loaded"&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"||this.readyState==="uninitialized")){if(msos.config.verbose){msos.console.debug(_7d+ls+"loaded, name: "+this.id);}this.msos_load_state="loaded";for(i=0;i<_7e.add_resource_onload.length;i+=1){_7e.add_resource_onload[i]();}if(this.getAttribute("defer")==="defer"){if(_7e.deferred_array.length){_96=_7e.deferred_array.shift();_96();}else{_7e.deferred_done=true;}}this.onload=this.onreadystatechange=null;}return true;};msos.console.debug(_7d+ls+"start, type: "+_92+", name: "+_90);if(_94!==null){_94.onload=_94.onreadystatechange=_95;_7e.doc_head.appendChild(_94);win.msos.registered_files[_92][_90]=_94;msos.console.debug(_7d+ls+"done!");}};msos.console.debug(_7d+" -> done!");};msos.dom_tracking=function(_97){"use strict";var _98="msos.dom_tracking";if(msos.dom[_97]){msos.console.error(_98+" -> failed, jQuery.fn."+_97+" already registered.");return;}msos.dom[_97]=[];var _99=jQuery.fn[_97];jQuery.fn[_97]=function(){var _9a=_98+" - "+_97,_9b=[];msos.console.debug(_9a+" -> start.");jQuery.each(this,function(_9c,_9d){var trk=msos.dom[_97],tag=_9d.tagName,id=_9d.id||"trk_"+tag.toLowerCase()+"_"+(trk.length+1),$el=jQuery(_9d);if(!_9d.id){_9d.id=id;}if(trk.indexOf(id)===-1){trk.push(id);_9b.push(_9d);$el.data(id,true);if(msos.config.verbose){msos.console.debug(_9a+" -> skipped: "+id);}}else{if($el.data(id)!==true){_9b.push(_9d);$el.data(id,true);msos.console.debug(_9a+" -> new instance: "+id);}}});msos.console.debug(_9a+" -> done!");return (_99.apply(jQuery(_9b),arguments));};};msos.set_environment=function(){"use strict";var _9e="msos.set_environment -> ",_9f=msos.config.cookie;msos.console.debug(_9e+"start");_9f.site_pref.value=msos.cookie(_9f.site_pref.name);_9f.site_i18n.value=msos.cookie(_9f.site_i18n.name);_9f.site_bdwd.value=msos.cookie(_9f.site_bdwd.name);msos.browser_current();msos.browser_advanced();msos.browser_editable();msos.browser_orientation();msos.browser_touch();msos.browser_mobile();msos.browser_preloading();if(msos.config.verbose){msos.console.debug(_9e+"done, browser env: ",msos.config.browser);}else{msos.console.debug(_9e+"done!");}};msos.calc_display_size=function(){"use strict";var _a0="",_a1=msos.config.view_port,_a2=0,_a3=0,_a4=0,_a5="",_a6=0;if(!msos.var_is_empty(_a1.width)&&_a1.width!==0){_a2=_a1.width;}if(!msos.var_is_empty(screen.width)&&screen.width!==0){_a3=screen.width;}_a4=_a2||_a3;for(_a5 in msos.config.size_wide){_a6=msos.config.size_wide[_a5]-(msos.config.size_wide[_a5]*0.03);if(_a4>_a6){if(_a0){if(msos.config.size_wide[_a0]<msos.config.size_wide[_a5]){_a0=_a5;}}else{_a0=_a5;}}}msos.console.debug("msos.calc_display_size -> calculated: "+_a0+", viewport w: "+_a1.width+", screen w: "+screen.width);return _a0;};msos.get_display_size=function(){"use strict";var _a7="msos.get_display_size -> ",_a8=msos.config.cookie.site_pref.value,_a9=msos.config.view_orientation.layout,_aa=[],_ab="";msos.console.debug(_a7+"start.");if(_a8){_aa=_a8.split(":");if(_a9==="portrait"){_ab=_aa[0]||"";}else{_ab=_aa[1]||"";}msos.console.debug(_a7+"cookie detected: "+_a8);}else{_aa[0]="unknown";_aa[1]="unknown";}_aa[2]=_a9;if(_ab==="unknown"){_ab="";}msos.config.size=msos.config.query.size||_ab||msos.calc_display_size()||msos.config.size;if(msos.config.query.size){msos.console.info(_a7+"size set by input!");}if(_a9==="portrait"){_aa[0]=msos.config.size;}else{_aa[1]=msos.config.size;}_a8=_aa.join(":");msos.config.cookie.site_pref.value=_a8;msos.console.debug(_a7+"done: "+msos.config.size+", for "+_a9);};msos.css_loader=function(_ac,win){"use strict";var _ad="msos.css_loader -> ",_ae=null,_af="",_b0="",i=0;msos.console.debug(_ad+"start.");_ae=new msos.loader(win);for(i=0;i<_ac.length;i+=1){_b0=_ac[i];_af=msos.generate_url_name(_b0);_ae.load(_af,_b0,"css");}msos.console.debug(_ad+"done!");};msos.script_loader=function(_b1){"use strict";var _b2="msos.script_loader -> ",_b3=null,_b4="",_b5="",i=0;msos.console.debug(_b2+"start.");_b3=new msos.loader();for(i=0;i<_b1.length;i+=1){_b5=_b1[i];_b4=msos.generate_url_name(_b5);_b3.load(_b4,_b5,"js",{defer:"defer"});}msos.console.debug(_b2+"done!");};msos.set_environment();msos.set_locale();msos.get_display_size();msos.console.info("msos/base -> done!");msos.console.timeEnd("base");